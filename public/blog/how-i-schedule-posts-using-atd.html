<!doctype html>
<html lang="en">
<head>
  <meta name="viewport" content="initial-scale=1">
  <link rel="icon" type="image/png" href="/icons/icon-64.png" />
  <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />
  <title>Qubyte Codes - How I schedule posts using atd</title>
  <script src="/index.js" async></script>
  <link href="/main-847805d3b000e6198faf08c4ba05bb20.css" rel="stylesheet">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#f1e7cd">
</head>
<body>
  <header class="top-header">
    <h1><a href="/">Qubyte Codes</a></h1>
    <nav>
      <ul>
        <li><a href="/">archive</a></li>
        <li><a href="/about">about</a></li>
      </ul>
    </nav>
  </header>
  <div class="content">
    <article>
      <header>
        <h2>How I schedule posts using atd</h2>
        <time datetime="2016-01-14T19:30Z">Thu Jan 14 2016</time>
      </header>
      <p>This blog is built with a static site generator. The generator, the markdown source files, and the
generated HTML files are all kept together in the same git repository. Every time I commit a change,
a pre-commit hook runs the generator and adds the generated HTML, so that the blog entries are
always up to date. Then the changes are pushed up to GitHub.</p>
<p>On the server (running Linux), NGINX is hosting a folder containing the files to serve from a clone
of the repo. To publish a new post, or update an old one, all I have to do is pull the changes from
GitHub. Publishing via the terminal allows me to use a one liner to <em>schedule</em> the publication.
Many know about <code>cron</code> for scheduling repeated tasks, but fewer are aware of <code>atd</code>, which is for one
time scheduled tasks. The one liner I use is:</p>
<pre><code class="lang-bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">"git -C /absolute/path/to/repo pull origin master"</span> | at 07:00 tomorrow
</code></pre>
<p><code>at</code> accepts input through stdin, which is why I&#39;ve echoed the command and piped it. One big
gotcha is that you have to be aware of the timezone your machine is configured for. I have mine set
to UTC, and schedule according to that.</p>
<p>There are companion utilities to manage scheduled jobs. The <code>man</code> page for <code>at</code> is extremely good,
so I won&#39;t try to better it. The purpose of this post is to show you that it exists and how simple
(especially when compared with <code>cron</code>) it is to use. You can use it to schedule pretty much
anything!</p>

    </article>
    <footer>
      <p>Feel like sharing? <a href="https://twitter.com/intent/tweet?via=qubyte&text=Qubyte%20Codes%20-%20How%20I%20schedule%20posts%20using%20atd&url=https%3A%2F%2Fqubyte.codes%2Fblog%2Fhow-i-schedule-posts-using-atd&hashtags=javascript">Tweet this post!</a></p>
      <p>Comments or corrections? <a href="https://twitter.com/intent/tweet?screen_name=qubyte">Send me a tweet!</a></p>
    </footer>
  </div>
</body>
</html>
