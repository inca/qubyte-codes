<!doctype html>
<html lang="en">
<head>
  <meta name="viewport" content="initial-scale=1">
  <link rel="icon" type="image/png" href="/icons/icon-64.png">
  <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed">
  <title>Qubyte Codes - Tip: Array.from</title>
  <script src="/index.js" async></script>
  <link href="/main-3e1f921e032a56ddc84c8637aba7bb26.css" rel="stylesheet">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#f1e7cd">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@qubyte">
  <meta name="twitter:title" content="Tip: Array.from">
  <meta name="twitter:description" content="This post is an exporation into custom elements.">
</head>
<body>
  <header class="top-header">
    <h1><a href="/">Qubyte Codes</a></h1>
    <nav>
      <ul>
        <li><a href="/">archive</a></li>
        <li><a href="/about">about</a></li>
      </ul>
    </nav>
  </header>
  <div class="content">
    <article class="h-entry">
      <header>
        <h2><a href="https://qubyte.codes/blog/tip-arrayfrom" class="u-url p-name">Tip: Array.from</a></h2>
        <time datetime="2017-12-01T20:00Z" class="dt-published">Fri Dec 01 2017</time>
        <span class="tags"><a href="/tags/JavaScript">#JavaScript</a> </span>
      </header>
      <div class="e-content">
        <p>Today I started doing the <a target="_blank" rel="noopener" href="https://adventofcode.com">2017 advent of code</a> challenges (don&#39;t worry, I
won&#39;t give anything away). The first challenge involves summing numbers in a
sequence. The sequence itself is too long to express as an integer, and that
wouldn&#39;t be particularly useful for the task anyway. The most convenient form
is probably an array of integers. The sequence is given as raw text, and the
quickest way to get it into JS is as a string.</p>
<p>There are a few ways to do this which spring to mind. One might argue that you
can loop directly over a string anyway, but getting a list of integers avoids
parsing each character in the string more than once for these tasks, so let&#39;s
ignore that option.</p>
<p>The first thing to come to mind was a loop:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> numbers = [];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; sequence.length; i++) {
  numbers.push(<span class="hljs-built_in">parseInt</span>(sequence[i], <span class="hljs-number">10</span>));
}
</code></pre>
<p>There&#39;s a slightly nicer to read version of this introduced by ES2015:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> numbers = [];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> character <span class="hljs-keyword">of</span> sequence) {
  numbers.push(<span class="hljs-built_in">parseInt</span>(character, <span class="hljs-number">10</span>));
}
</code></pre>
<p>Both suffer from being a bit bulky though. ES2015 also introduced <code>Array.from</code>
and the spread operator (<code>...</code>), which offer a similar way of creating an array
when used in combination with <code>Array.prototype.map</code>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> numbers = [...sequence].map(<span class="hljs-function"><span class="hljs-params">char</span> =&gt;</span> <span class="hljs-built_in">parseInt</span>(char, <span class="hljs-number">10</span>));
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">const</span> numbers = <span class="hljs-built_in">Array</span>.from(sequence).map(<span class="hljs-function"><span class="hljs-params">char</span> =&gt;</span> <span class="hljs-built_in">parseInt</span>(char, <span class="hljs-number">10</span>));
</code></pre>
<p>The first spreads characters from the sequence into an array, and maps these
characters to a fresh array of numbers. The second uses <code>Array.from</code> to get an
array of characters from a string, and uses the same mapping to get an array
of integers.</p>
<p>I prefer the latter of the two (it&#39;s a little easier for humans to parse). It
would be nice to avoid the explicit mapping though, right? The solution I
settled upon was to use the little-known second parameter to <code>Array.from</code>. It
turns out you can include a function to map elements to be incerted into the
returned array:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> numbers = <span class="hljs-built_in">Array</span>.from(sequence, char =&gt; <span class="hljs-built_in">parseInt</span>(char, <span class="hljs-number">10</span>));
</code></pre>
<p>Which is my tip! In essence, don&#39;t do this:</p>
<pre><code class="lang-javascript">[...stuff].map(func);
</code></pre>
<p>Or this:</p>
<pre><code class="lang-javascript"><span class="hljs-built_in">Array</span>.from(stuff).map(func);
</code></pre>
<p>Do this:</p>
<pre><code class="lang-javascript"><span class="hljs-built_in">Array</span>.from(stuff, func);
</code></pre>

      </div>
    </article>
    <footer>
      <p>Feel like sharing? <a target="_blank" rel="noopener" href="https://twitter.com/intent/tweet?via=qubyte&amp;text=Qubyte%20Codes%20-%20Tip%3A%20Array.from&amp;url=https://qubyte.codes/blog/tip-arrayfrom&amp;hashtags=JavaScript">Tweet this post!</a> or <a target="_blank" rel="noopener" href="web+mastodon://share?text=Qubyte%20Codes%20-%20Tip%3A%20Array.from%20via%20%40qubyte%40mastodon.social%20%23JavaScript%20https%3A%2F%2Fqubyte.codes%2Fblog%2Ftip-arrayfrom">toot it!</a></p>
      <p>Comments or corrections? <a target="_blank" rel="noopener" href="https://twitter.com/intent/tweet?screen_name=qubyte">Send me a tweet!</a> or <a target="_blank" rel="noopener" href="web+mastodon://share?text=%40qubyte%40mastodon.social">toot to me!</a></p>
    </footer>
  </div>
</body>
</html>
